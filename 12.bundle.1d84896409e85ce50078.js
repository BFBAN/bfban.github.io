(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{77:function(t,s,e){"use strict";e.r(s);var a=e(3),n=e(2),r={data:function(){return{signup:{username:"",password:"",originId:"",qq:"",captcha:""},spinShow:!1}},methods:{refreshCaptcha:function(){this.$refs.captcha.src=n.a+"/captcha?r="+Math.random(),a.o.call(this.$refs.reCaptcha)},handleSignup:function(){var t=this,s=_.each(this.signup,(function(t,s,e){e[s]=t.trim()})),e=s.username,r=s.password,i=s.originId,p=s.qq,o=s.captcha;e&&!Object(a.m)(e)&&r&&!Object(a.m)(r)&&4===o.length?(this.spinShow=!0,Object(n.b)({method:"post",url:"/account/signup",headers:{},data:{username:e,password:r,captcha:o,originId:i,qq:p}}).then((function(s){t.spinShow=!1;var e=s.data;1===e.error?(t.$Message.error(t.$i18n.t("signup.failed")+e.msg),t.signup.password="",t.signup.captcha="",t.refreshCaptcha()):t.$store.dispatch("signin",e.data).then((function(){t.$router.push("/")}))}))):this.$Message.error(this.$i18n.t("signup.fillIn"))}}},i=e(1),p=Object(i.a)(r,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"container"},[e("div",{staticClass:"content"},[e("Form",{staticStyle:{position:"relative"},attrs:{"label-width":80}},[e("Divider",[t._v(t._s(t.$t("signup.title")))]),t._v(" "),e("FormItem",{attrs:{label:t.$t("signup.form.username")}},[e("Input",{attrs:{placeholder:t.$t("signup.placeholder.username")},model:{value:t.signup.username,callback:function(s){t.$set(t.signup,"username",s)},expression:"signup.username"}})],1),t._v(" "),e("FormItem",{attrs:{label:t.$t("signup.form.password")}},[e("Input",{attrs:{type:"password",placeholder:t.$t("signup.placeholder.password")},model:{value:t.signup.password,callback:function(s){t.$set(t.signup,"password",s)},expression:"signup.password"}})],1),t._v(" "),e("FormItem",{attrs:{label:t.$t("signup.form.originId")}},[e("Input",{attrs:{placeholder:t.$t("signup.placeholder.originId")},model:{value:t.signup.originId,callback:function(s){t.$set(t.signup,"originId",s)},expression:"signup.originId"}})],1),t._v(" "),e("FormItem",{attrs:{label:t.$t("signup.form.qq")}},[e("Input",{attrs:{placeholder:t.$t("signup.placeholder.qq")},model:{value:t.signup.qq,callback:function(s){t.$set(t.signup,"qq",s)},expression:"signup.qq"}})],1),t._v(" "),e("FormItem",{attrs:{label:t.$t("signup.form.captcha")}},[e("Input",{attrs:{type:"text",placeholder:t.$t("signup.form.captcha")},model:{value:t.signup.captcha,callback:function(s){t.$set(t.signup,"captcha",s)},expression:"signup.captcha"}}),t._v(" "),e("img",{ref:"captcha"}),t._v(" "),e("a",{ref:"reCaptcha",attrs:{href:"#"},on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.refreshCaptcha(s)}}},[t._v("\n          "+t._s(t.$t("signup.form.getCaptcha"))+"\n        ")])],1),t._v(" "),e("FormItem",[e("Button",{attrs:{type:"primary"},on:{click:function(s){return s.preventDefault(),s.stopPropagation(),t.handleSignup(s)}}},[t._v(t._s(t.$t("signup.form.submit")))]),t._v(" "),e("router-link",{attrs:{to:{name:"signin"}}},[t._v(t._s(t.$t("signup.form.submitHint")))])],1),t._v(" "),e("Spin",{directives:[{name:"show",rawName:"v-show",value:t.spinShow,expression:"spinShow"}],attrs:{size:"large",fix:""}})],1)],1)])}),[],!1,null,null,null);s.default=p.exports}}]);