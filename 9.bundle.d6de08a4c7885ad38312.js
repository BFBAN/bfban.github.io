(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{67:function(t,e,a){"use strict";a.r(e);var r=a(42),i=a.n(r),o=a(43),s=a.n(o),n=a(65),c=a(3),m=a(2),l={data:function(){return{formItem:{gameName:"",originId:"",bilibiliLink:"",checkbox:["aimbot"],description:"尽可能详细的列举被举报人的作弊证据,write and show your opinion",captcha:"",originUserId:"",originPersonaId:"",avatarLink:""},spinShow:!1,cheatMethodsGlossary:c.a}},components:{Misc:n.default},methods:{checkVideoAndImg:function(){return!(!Object(c.m)(this.formItem.bilibiliLink)&&!/(http(s?):)([/|.|\w|\s|-])*\.(?:jpe?g|gif|png|bmp)/.test(this.formItem.description))||(this.$Message.error("请上传图片或填写视频链接"),!1)},refreshCaptcha:function(){this.$refs.captcha.src=m.a+"/captcha?r="+Math.random(),c.n.call(this.$refs.reCaptcha)},handleMiscChange:function(t){this.formItem.description=t},doReport:function(t){var e=this;return!1!==c.d.call(this,this.formItem)&&(!1!==this.checkVideoAndImg()&&(this.spinShow=!0,void Object(c.c)({id:Object(c.m)(this.formItem.originId)}).then(function(){var t=s()(i.a.mark((function t(a){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=a.data,!r.idExist){t.next=10;break}return e.formItem.originUserId=r.originUserId,e.formItem.originPersonaId=r.originPersonaId,e.formItem.avatarLink=r.avatarLink,t.next=8,e.handleReport();case 8:t.next=12;break;case 10:e.spinShow=!1,e.$Message.error("游戏ID不存在，请检查拼写,ID is not exist");case 12:e.formItem.captcha="",e.refreshCaptcha();case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())))},handleReport:function(){var t=this;this.spinShow=!0;var e=this.formItem.checkbox.join(","),a=this.formItem,r=a.gameName,i=a.originUserId,o=a.originPersonaId,s=a.avatarLink,n=a.captcha,l=Object(c.m)(this.formItem.originId),p=Object(c.m)(this.formItem.bilibiliLink);p&&(p=/^https?:\/\//.test(p)?p:"//"+p);var h=this.formItem.description.trim();Object(m.b)({method:"post",url:"/cheaters/",headers:{},data:{gameName:r,originId:l,cheatMethods:e,bilibiliLink:p,description:h,captcha:n,originUserId:i,originPersonaId:o,avatarLink:s}}).then((function(e){t.spinShow=!1;var a=e.data;0===a.error?(t.$router.push({name:"cheater",params:{game:r,ouid:a.data.originUserId}}),t.$Message.success("提交成功")):t.$Message.error("failed "+a.msg)}))}}},p=a(1),h=Object(p.a)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"content"},[a("Form",{staticStyle:{position:"relative"},attrs:{"label-width":80}},[a("Divider",[t._v(t._s(t.$t("report.info.reportHacker",{msg:"reportHacker"})))]),t._v(" "),a("FormItem",{attrs:{label:"Game"}},[a("span",{staticClass:"hint"},[t._v(t._s(t.$t("report.info.reportNews",{msg:"reportNews"})))]),t._v(" "),a("RadioGroup",{attrs:{type:"button"},model:{value:t.formItem.gameName,callback:function(e){t.$set(t.formItem,"gameName",e)},expression:"formItem.gameName"}},[a("Radio",{attrs:{label:"bf1"}},[a("span",[t._v(t._s(t.$t("report.info.bf1",{msg:"bf1"})))])]),t._v(" "),a("Radio",{attrs:{label:"bfv"}},[a("span",[t._v(t._s(t.$t("report.info.bfv",{msg:"bfv"})))])])],1)],1),t._v(" "),a("FormItem",{attrs:{label:"Hacker's ID"}},[a("span",{staticClass:"hint"},[t._v(t._s(t.$t("report.info.idNotion1",{msg:"idNotion1"})))]),t._v(" "),a("span",{staticClass:"hint"},[t._v(t._s(t.$t("report.info.idNotion2",{msg:"idNotion2"})))]),t._v(" "),a("p",{staticStyle:{"font-size":"2rem"}},[t._v(t._s(t.formItem.originId))]),t._v(" "),a("Input",{attrs:{placeholder:"only one Origin ID in one time"},model:{value:t.formItem.originId,callback:function(e){t.$set(t.formItem,"originId",e)},expression:"formItem.originId"}})],1),t._v(" "),a("FormItem",{attrs:{label:"CheatMethod"}},[a("CheckboxGroup",{model:{value:t.formItem.checkbox,callback:function(e){t.$set(t.formItem,"checkbox",e)},expression:"formItem.checkbox"}},t._l(t.cheatMethodsGlossary,(function(e){return a("Checkbox",{key:e.value,attrs:{label:e.value}},[t._v("\n              "+t._s(t.$t("cheatMethods."+e.value))+"\n            ")])})),1)],1),t._v(" "),a("FormItem",{attrs:{label:"VideoLink"}},[a("Alert",{attrs:{type:"warning"}},[t._v("\n            "+t._s(t.$t("report.info.uploadManual1",{msg:"uploadManual1"}))+" "),a("a",{attrs:{target:"_blank",href:"https://streamable.com/"}},[t._v("https://streamable.com/")]),t._v("，"+t._s(t.$t("report.info.uploadManual2",{msg:"uploadManual2"}))+"\n          ")]),t._v(" "),a("span",{staticClass:"hint"},[t._v(t._s(t.$t("report.info.uploadManual3",{msg:"uploadManual3"})))]),t._v(" "),a("Input",{attrs:{placeholder:"Essential"},model:{value:t.formItem.bilibiliLink,callback:function(e){t.$set(t.formItem,"bilibiliLink",e)},expression:"formItem.bilibiliLink"}})],1),t._v(" "),a("FormItem",{attrs:{label:"Discription"}},[a("Alert",{attrs:{type:"warning"}},[t._v("\n            "+t._s(t.$t("report.info.uploadPic1",{msg:"uploadPic1"}))+"\n          ")]),t._v(" "),a("Alert",{attrs:{type:"warning"}},[t._v("\n            "+t._s(t.$t("report.info.uploadPic2",{msg:"uploadPic2"}))),a("a",{attrs:{target:"_blank",href:"https://sm.ms"}},[t._v("https://sm.ms")]),t._v("，"+t._s(t.$t("report.info.uploadPic3",{msg:"uploadPic3"}))+"\n          ")]),t._v(" "),a("span",{staticClass:"hint"},[t._v(t._s(t.$t("report.info.uploadPic4",{msg:"uploadPic4"})))]),t._v(" "),a("Misc",{attrs:{content:t.formItem.description},on:{change:t.handleMiscChange}})],1),t._v(" "),a("FormItem",{attrs:{label:"验证码"}},[a("Input",{attrs:{type:"text",placeholder:"Captcha"},model:{value:t.formItem.captcha,callback:function(e){t.$set(t.formItem,"captcha",e)},expression:"formItem.captcha"}}),t._v(" "),a("img",{ref:"captcha"}),t._v(" "),a("a",{ref:"reCaptcha",attrs:{href:"#"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.refreshCaptcha(e)}}},[t._v("\n            "+t._s(t.$t("report.info.getCaptcha",{msg:"getCaptcha"}))+"\n          ")])],1),t._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:t.doReport}},[t._v(t._s(t.$t("report.info.report",{msg:"report"})))])],1),t._v(" "),a("Spin",{directives:[{name:"show",rawName:"v-show",value:t.spinShow,expression:"spinShow"}],attrs:{size:"large",fix:""}})],1)],1)])}),[],!1,null,null,null);e.default=h.exports}}]);